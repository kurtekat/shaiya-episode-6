# Changelog

## 02-25-2026

Updated quest structure sizes (incorrect). Tested a few quests and checked object memory.

| Type        | EP5   | EP6   |
|-------------|-------|-------|
| QuestInfo   | 0x1D0 | 0x260 |
| QuestResult | 0x20  | 0x28  |

```
; 0047A5D0
0047A5DB  IMUL EAX,EAX,260
0047A5E1  LEA EAX,DWORD PTR DS:[EAX+ECX-260]

; 0047BE40
0047CC97  IMUL EDX,EDX,260
0047CC9D  LEA ESI,DWORD PTR DS:[ECX+EDX-260]
0047CE2E  IMUL EAX,EAX,260
0047CE34  LEA ESI,DWORD PTR DS:[EAX+ECX-260]

; 0048D160
0048D179  IMUL ECX,ECX,260
0048D17F  LEA ESI,DWORD PTR DS:[ECX+EDX-260]

; 0048E050
0048E055  CMP BYTE PTR SS:[EBP+25C],0 ; QuestInfo.Enabled
0048E189  ADD EBP,186                 ; addressof(QuestInfo.Results[0].NextQuestID)
0048E1AD  ADD EBP,28                  ; sizeof(QuestResult)
0048E1B0  CMP ESI,6

; 0048E230
0048E248  IMUL EDX,EDX,260
0048E24E  LEA ESI,DWORD PTR DS:[EDX+ESI-260]

; 0048E2D0
0048E2F7  IMUL ECX,ECX,260
0048E2FD  LEA EBX,DWORD PTR DS:[ECX+EDX-260]

; 004DF250
004DF271  IMUL EAX,EAX,260
004DF278  LEA EDI,DWORD PTR DS:[EAX+ECX-260]
004DF2CC  IMUL ECX,ECX,260
004DF2D2  LEA ECX,DWORD PTR DS:[ECX+EBP-260]

; 004DF340
004DF35C  IMUL EAX,EAX,260
004DF369  LEA EAX,DWORD PTR DS:[EAX+EBX-260]
004DF3B7  IMUL EAX,EAX,260
004DF3BD  LEA EAX,DWORD PTR DS:[EAX+EBX-260]

; 004DFDD0
004E00B1  ADD EDX,260
004E0215  ADD EDI,260

; 004E04D0
004E0522  MOV EDX,260
004E054C  IMUL ECX,ECX,260
004E0573  MOV BYTE PTR DS:[EDX+EDI+25C],1
; 
004E0C16  JMP 004DC310
; 
004E0C2E  ADD EBX,28  ; sizeof(QuestResult)
004E0C31  CMP EBX,0F0 ; sizeof(QuestResult) * 6
004E0C3D  MOV EBX,4   ; MessageCount
004E0C72  ADD EDI,260 ; sizeof(QuestInfo)
```

## 01-19-2026

Removed instruction that overwrites `ItemInfo.Drop` to support item sets.

```
; CGameData::LoadConstItem
004DB0DA  CMP WORD PTR SS:[ESP+70],6    ; ItemInfo.Drop
004DB0E0  JBE SHORT ps_game.004DB0E6
004DB0E2  NOP
004DB0E3  NOP
004DB0E4  NOP
004DB0E5  NOP
```

### Original

```
004DB0DA  CMP WORD PTR SS:[ESP+70],6    ; ItemInfo.Drop
004DB0E0  JBE SHORT ps_game.004DB0E6
004DB0E2  MOV DWORD PTR SS:[ESP+70],EBX ; 0
```

## 11-15-2024

Changed count so item type 52 would appear at the Auction Board.

```
; 0056E364
03 00 00 00 ; Count
; 0056E368
06 00 00 00 ; ItemType.6
; 0056E36C
33 00 00 00 ; ItemType.51
; 0056E370
34 00 00 00 ; ItemType.52
```

### Original

```
; 0056E364
02 00 00 00 06 00 00 00 33 00 00 00 34 00 00 00
```

## 04-02-2024

Added level 80 support. Changed exp location because the additional status values overlap.

```
; 00460C50
00460C55  CMP ECX,50
00460C5A  IMUL EAX,EAX,51
00460C6B  MOVZX EAX,WORD PTR DS:[5889E8]

; 00460C80
00460C85  CMP ECX,50
00460C8A  IMUL EAX,EAX,51
00460C9B  MOVZX EAX,WORD PTR DS:[5889EA]

; 00460CB0
00460CB5  CMP ECX,50
00460CBA  IMUL EAX,EAX,51
00460CCB  MOVZX EAX,WORD PTR DS:[5889EC]

; 00461010
004612CC  CMP EDX,50
004612D3  IMUL ECX,ECX,51
004612E5  MOVZX ECX,WORD PTR DS:[5889E8]

004612F7  CMP EDX,50
004612FE  IMUL ECX,ECX,51
00461310  MOVZX ECX,WORD PTR DS:[5889EA]

00461322  CMP EDX,50
00461327  IMUL EAX,EAX,51
0046133C  MOVZX EAX,WORD PTR DS:[5889EC]

0046135B  CMP ECX,50
00461362  IMUL EAX,EAX,51
00461382  MOVZX EDX,WORD PTR DS:[5889E8]

004613AC  CMP ECX,50
004613B3  IMUL EAX,EAX,51
004613C9  MOVZX EDX,WORD PTR DS:[5889E8]

004613F9  CMP ECX,50
00461400  IMUL EAX,EAX,51
00461416  MOVZX EDX,WORD PTR DS:[5889EA]

0046143E  CMP EAX,50
00461443  IMUL EBP,EBP,51
0046145A  MOVZX EDX,WORD PTR DS:[5889EC]

; 00464FF0
00464FF5  CMP ECX,50
00464FFA  IMUL EAX,EAX,51
00464FFF  MOV EAX,DWORD PTR DS:[EAX*4+101A004]
00465007  MOV EAX,DWORD PTR DS:[101A144]

; 00465060
0046507D  CMP AX,50
0046515F  CMP ECX,50
00465164  IMUL EAX,EAX,51
00465169  MOV EAX,DWORD PTR DS:[EAX*4+101A004]
00465172  MOV EAX,DWORD PTR DS:[101A144]

004651D9  CMP AX,50
004651EA  CMP ECX,50
004651EF  IMUL EAX,EAX,51
004651F4  MOV EAX,DWORD PTR DS:[EAX*4+101A004]
004651FD  MOV EAX,DWORD PTR DS:[101A144]

0046523F  CMP ECX,50
00465244  IMUL EAX,EAX,51
00465249  MOV EAX,DWORD PTR DS:[EAX*4+101A004]
00465252  MOV EAX,DWORD PTR DS:[101A144]

; 00467BC0
00467BFC  CMP ECX,50
00467C03  IMUL EAX,EAX,51
00467C08  MOV EAX,DWORD PTR DS:[EAX*4+101A004]
00467C11  MOV EAX,DWORD PTR DS:[101A144]

00467C1E  CMP EBP,50
00467C25  IMUL ECX,ECX,51
00467C2A  MOV ECX,DWORD PTR DS:[ECX*4+101A004]
00467C33  MOV ECX,DWORD PTR DS:[101A144]

00467C97  CMP EBP,50
00467C9C  IMUL ESI,ESI,51
00467CA1  MOV ESI,DWORD PTR DS:[ESI*4+101A004]
00467CAA  MOV ESI,DWORD PTR DS:[101A144]

; 00480D20
00480E0C  CMP ECX,50
00480F98  MOV EAX,DWORD PTR DS:[EAX+101A140]
00480FA0  MOV EAX,DWORD PTR DS:[101A144]
00480FC4  CMP EBX,50

; 0048FE60
0048FECC  MOVZX ECX,WORD PTR DS:[5889E8]
0048FEEF  MOVZX ECX,WORD PTR DS:[5889EA]
0048FF13  MOVZX EAX,WORD PTR DS:[5889EC]
0048FF40  MOVZX EDX,WORD PTR DS:[5889E8]
0048FF7E  MOVZX EDX,WORD PTR DS:[5889EA]
0048FFB1  MOVZX ECX,WORD PTR DS:[5889EC]
0048FFE2  MOVZX ECX,WORD PTR DS:[5889E8]
00490020  MOVZX ECX,WORD PTR DS:[5889EA]
00490054  MOVZX EAX,WORD PTR DS:[5889EC]

; 004923A0
0049240C  MOV EDI,DWORD PTR DS:[101A144]
0049241B  CMP EDX,50
00492422  IMUL EBX,EBX,51
00492427  MOV EDX,DWORD PTR DS:[EBX*4+101A004]

0049243B  CMP ECX,50
00492440  IMUL EAX,EAX,51
00492445  MOV EAX,DWORD PTR DS:[EAX*4+101A004]

; 0049B3B0
0049B4A2  CMP ECX,50
0049B4A9  IMUL EAX,EAX,51
0049B4BB  MOVZX EAX,WORD PTR DS:[5889E8]

0049B4D3  CMP ECX,50
0049B4DA  IMUL EAX,EAX,51
0049B4EC  MOVZX EAX,WORD PTR DS:[5889EA]

0049B504  CMP ECX,50
0049B50B  IMUL EAX,EAX,51
0049B51D  MOVZX EAX,WORD PTR DS:[5889EC]

0049B535  CMP EDX,50
0049B53C  IMUL EAX,EAX,51
0049B54E  MOVZX EAX,WORD PTR DS:[5889E8]

0049B562  CMP EDX,50
0049B569  IMUL EAX,EAX,51
0049B57B  MOVZX EAX,WORD PTR DS:[5889EA]

0049B58F  CMP EDX,50
0049B594  IMUL EDI,EDI,51
0049B5B4  MOVZX EAX,WORD PTR DS:[5889EC]

0049B5DE  CMP EBX,50
0049B5E5  IMUL EAX,EAX,51
0049B5FB  MOVZX EDX,WORD PTR DS:[5889E8]

0049B63A  CMP EBX,50
0049B641  IMUL EAX,EAX,51
0049B657  MOVZX ECX,WORD PTR DS:[5889EA]

0049B68E  CMP EBX,50
0049B695  IMUL EAX,EAX,51
0049B6AB  MOVZX EDX,WORD PTR DS:[5889EC]

0049B6DA  CMP EBP,50
0049B6E1  IMUL EAX,EAX,51
0049B6F7  MOVZX EDX,WORD PTR DS:[5889E8]

0049B71C  CMP EBP,50
0049B723  IMUL EAX,EAX,51
0049B739  MOVZX ECX,WORD PTR DS:[5889EA]

0049B75E  CMP EBP,50
0049B763  IMUL EDI,EDI,51
0049B78E  MOVZX EDX,WORD PTR DS:[5889EC]

0049B7C2  CMP EBX,50
0049B7C9  IMUL EAX,EAX,51
0049B7DF  MOVZX EDX,WORD PTR DS:[5889E8]

0049B81E  CMP EBX,50
0049B825  IMUL EAX,EAX,51
0049B83B  MOVZX ECX,WORD PTR DS:[5889EA]

0049B872  CMP EBX,50
0049B879  IMUL EAX,EAX,51
0049B88F  MOVZX EDX,WORD PTR DS:[5889EC]

0049B8BE  CMP EBP,50
0049B8C5  IMUL EAX,EAX,51
0049B8DB  MOVZX EDX,WORD PTR DS:[5889E8]

0049B900  CMP EBP,50
0049B907  IMUL EAX,EAX,51
0049B91D  MOVZX ECX,WORD PTR DS:[5889EA]

0049B942  CMP EBP,50
0049B947  IMUL EDI,EDI,51
0049B95D  MOVZX EDX,WORD PTR DS:[5889EC]

; 0049B9C0
0049BB45  MOV ESI,DWORD PTR DS:[101A144]
0049BB75  CMP ECX,50
0049BB7C  IMUL EBX,EBX,51
0049BB81  MOV ECX,DWORD PTR DS:[EBX*4+101A004]

0049BB9C  CMP ECX,50
0049BBA1  IMUL EAX,EAX,51
0049BBA6  MOV EAX,DWORD PTR DS:[EAX*4+101A004]

; 0049BD70
0049BD9E  CMP EBX,50
0049BDA5  IMUL ECX,ECX,51
0049BDB7  MOVZX ECX,WORD PTR DS:[5889E8]

0049BDCF  CMP EBX,50
0049BDD6  IMUL ECX,ECX,51
0049BDE8  MOVZX ECX,WORD PTR DS:[5889EA]

0049BE00  CMP EBX,50
0049BE07  IMUL ECX,ECX,51
0049BE19  MOVZX ECX,WORD PTR DS:[5889EC]

0049BE35  CMP EDX,50
0049BE3C  IMUL ECX,ECX,51
0049BE4E  MOVZX ECX,WORD PTR DS:[5889E8]

0049BE62  CMP EDX,50
0049BE69  IMUL ECX,ECX,51
0049BE7B  MOVZX ECX,WORD PTR DS:[5889EA]

0049BE8F  CMP EDX,50
0049BE94  IMUL EAX,EAX,51
0049BEB6  MOVZX EAX,WORD PTR DS:[5889EC]

0049BEDB  CMP EBX,50
0049BEE2  IMUL EAX,EAX,51
0049BEF8  MOVZX EDX,WORD PTR DS:[5889E8]

0049BF34  CMP EBX,50
0049BF3B  IMUL EAX,EAX,51
0049BF51  MOVZX EDX,WORD PTR DS:[5889EA]

0049BF81  CMP EBX,50
0049BF88  IMUL EAX,EAX,51
0049BF9E  MOVZX EDX,WORD PTR DS:[5889EC]

0049BFD1  CMP EBX,50
0049BFD8  IMUL EAX,EAX,51
0049BFEE  MOVZX EDX,WORD PTR DS:[5889E8]

0049C013  CMP EBX,50
0049C01A  IMUL EAX,EAX,51
0049C030  MOVZX ECX,WORD PTR DS:[5889EA]

0049C052  CMP EBX,50
0049C057  IMUL EDI,EDI,51
0049C084  MOVZX ECX,WORD PTR DS:[5889EC]

0049C0B4  CMP EBX,50
0049C0BB  IMUL EAX,EAX,51
0049C0D1  MOVZX ECX,WORD PTR DS:[5889E8]

0049C10D  CMP EBX,50
0049C114  IMUL EAX,EAX,51
0049C12A  MOVZX ECX,WORD PTR DS:[5889EA]

0049C15A  CMP EBX,50
0049C161  IMUL EAX,EAX,51
0049C177  MOVZX ECX,WORD PTR DS:[5889EC]

0049C1AA  CMP EBX,50
0049C1B1  IMUL EAX,EAX,51
0049C1C7  MOVZX ECX,WORD PTR DS:[5889E8]

0049C1EC  CMP EBX,50
0049C1F3  IMUL EAX,EAX,51
0049C209  MOVZX EDX,WORD PTR DS:[5889EA]

0049C22B  CMP EBX,50
0049C230  IMUL EDI,EDI,51
0049C246  MOVZX EDX,WORD PTR DS:[5889EC]

; 004D76E0
004D76FE  PUSH 0B64     ; size
004D7704  PUSH 00588808 ; original

004D770E  PUSH 510      ; size
004D7714  PUSH 0101A004

; 004D8210
004D83B2  IMUL EAX,EAX,51
004D83D1  IMUL EAX,EAX,51
004D83F0  IMUL EAX,EAX,51

; 004D8440
004D8543  IMUL EAX,EAX,51
004D854E  MOV DWORD PTR DS:[EAX*4+1019EC0],EDX
004D8569  MOV EDI,0101A008
004D8572  MOV EDX,10
004D859B  ADD EDI,144
004D85A1  CMP EDI,0101A518
```

### Original

* Level

```
0x46 -> 0x50
```

* Status

```
0x47     -> 0x51
0x5889AC -> 0x5889E8
0x5889AE -> 0x5889EA
0x5889B0 -> 0x5889EC
0x9D9    -> 0xB64
```

* Exp

```
0x47     -> 0x51
0x589204 -> 0x101A004
0x589208 -> 0x101A008
0x589318 -> 0x101A140
0x58931C -> 0x101A144
0x461    -> 0x510
0x5890E8 -> 0x1019EC0
0x589678 -> 0x101A518
```
